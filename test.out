21   require
3   ifj21
13   function
.IFJcode21
DEFVAR GF@NILEQ$1
DEFVAR GF@MUL_RES$1
DEFVAR GF@SUB_RES$1
DEFVAR GF@SUM_RES$1
DEFVAR GF@DIV_RES$1
DEFVAR GF@IDIV_RES$1
DEFVAR GF@HASH_RES$1
DEFVAR GF@DOTDOT_RES$1
DEFVAR GF@LESS_RES$1
DEFVAR GF@MORE_RES$1
DEFVAR GF@EQUAL_RES$1
DEFVAR GF@LESSOREQUAL_RES$1
DEFVAR GF@LESSOREQUAL$1
DEFVAR GF@LESSOREQUAL1$1
DEFVAR GF@MOREOREQUAL_RES$1
DEFVAR GF@MOREOREQUAL$1
DEFVAR GF@MOREOREQUAL1$1
DEFVAR GF@NOTEQUAL_RES$1
DEFVAR GF@NOTEQUAL$1
DEFVAR GF@INTTONUM$1
JUMP $main

LABEL $reads
PUSHFRAME
DEFVAR LF@ret1$1
DEFVAR LF@ret2$1
READ LF@ret1$1 string
DEFVAR LF@ret_check$1
TYPE LF@ret_check$1 LF@ret1$1
JUMPIFNEQ $READS_END LF@ret_check$1 string@string
PUSHS LF@ret1$1
MOVE LF@ret2$1 int@0
PUSHS LF@ret2$1
JUMP $END_READS
LABEL $READS_END
PUSHS LF@ret1$1
MOVE LF@ret2$1 int@1
PUSHS LF@ret2$1
LABEL $END_READS
POPFRAME
RETURN

LABEL $readi
PUSHFRAME
DEFVAR LF@ret1$1
DEFVAR LF@ret2$1
READ LF@ret1$1 int
DEFVAR LF@ret_check$1
TYPE LF@ret_check$1 LF@ret1$1
JUMPIFNEQ $READI_END LF@ret_check$1 string@int
PUSHS LF@ret1$1
MOVE LF@ret2$1 int@0
PUSHS LF@ret2$1
JUMP $END_READI
LABEL $READI_END
PUSHS LF@ret1$1
MOVE LF@ret2$1 int@1
PUSHS LF@ret2$1
LABEL $END_READI
POPFRAME
RETURN

LABEL $readn
PUSHFRAME
DEFVAR LF@ret1$1
DEFVAR LF@ret2$1
DEFVAR LF@ret_check$1
READ LF@ret1$1 float
TYPE LF@ret_check$1 LF@ret1$1
JUMPIFNEQ $READN_END LF@ret_check$1 string@float
PUSHS LF@ret1$1
MOVE LF@ret2$1 int@0
PUSHS LF@ret2$1
JUMP $END_READN
LABEL $READN_END
MOVE LF@ret1$1 nil@nil
PUSHS LF@ret1$1
MOVE LF@ret2$1 int@1
PUSHS LF@ret2$1
LABEL $END_READN
POPFRAME
RETURN

LABEL $tointeger
PUSHFRAME
DEFVAR LF@ret1$1
DEFVAR LF@param1$1
MOVE LF@param1$1 LF@f$1
FLOAT2INT LF@ret1$1 LF@param1$1
PUSHS LF@ret1$1
POPFRAME
RETURN

LABEL $substr
PUSHFRAME
DEFVAR LF@ret1$1
DEFVAR LF@string$1
DEFVAR LF@from$1
DEFVAR LF@konec$1
DEFVAR LF@length$1
DEFVAR LF@length_helper$1
DEFVAR LF@char$1
DEFVAR LF@new_strlen$1
MOVE LF@ret1$1 string@
MOVE LF@string$1 LF@in1$1
MOVE LF@from$1 LF@in2$1
SUB LF@from$1 LF@from$1 int@1
MOVE LF@konec$1 LF@in3$1
MOVE LF@length_helper$1 int@0
STRLEN LF@length$1 LF@string$1
SUB LF@new_strlen$1 LF@length$1 int@1
DEFVAR LF@result$1
LT LF@result$1 LF@konec$1 int@0
JUMPIFEQ $SUBSTR_END LF@result$1 bool@true
EQ LF@result$1 LF@konec$1 int@0
JUMPIFEQ $SUBSTR_EMPTY LF@result$1 bool@true
GT LF@result$1 LF@konec$1 LF@new_strlen$1
JUMPIFEQ $SUBSTR_END LF@result$1 bool@true
LT LF@result$1 LF@from$1 int@0
JUMPIFEQ $SUBSTR_END LF@result$1 bool@true
GT LF@result$1 LF@from$1 LF@new_strlen$1
JUMPIFEQ $SUBSTR_END LF@result$1 bool@true
ADD LF@length_helper$1 LF@length_helper$1 LF@from$1
ADD LF@length_helper$1 LF@length_helper$1 LF@konec$1
GT LF@result$1 LF@length_helper$1 LF@length$1
JUMPIFEQ $SUBSTR_LEN LF@result$1 bool@true
JUMP $FOR_LOOP
LABEL $SUBSTR_LEN
MOVE LF@length_helper$1 LF@length$1
LABEL $FOR_LOOP
JUMPIFEQ $SUBSTR_RET_0 LF@konec$1 LF@from$1
GETCHAR LF@char$1 LF@string$1 LF@from$1
CONCAT LF@ret1$1 LF@ret1$1 LF@char$1
ADD LF@from$1 LF@from$1 int@1
JUMP $FOR_LOOP
LABEL $SUBSTR_RET_0
PUSHS LF@ret1$1
JUMP $END
LABEL $SUBSTR_END
MOVE LF@ret1$1 string@
PUSHS LF@ret1$1
LABEL $END
POPFRAME
RETURN

LABEL $SUBSTR_EMPTY
MOVE LF@ret1$1 string@
PUSHS LF@ret1$1
JUMP $END

LABEL $ord
PUSHFRAME
DEFVAR LF@string$1
DEFVAR LF@int$1
DEFVAR LF@length$1
DEFVAR LF@right_int$1
DEFVAR LF@ret1$1
DEFVAR LF@ret2$1
MOVE LF@string$1 LF@s$1
MOVE LF@int$1 LF@i$1
STRLEN LF@length$1 LF@string$1
SUB LF@length$1 LF@length$1 int@1
GT LF@right_int$1 LF@int$1 LF@length$1
JUMPIFEQ $ORD_END LF@right_int$1 bool@true
LT LF@right_in$1t LF@int$1 int@0
JUMPIFEQ $ORD_END LF@right_int$1 bool@true
STRI2INT LF@ret1$1 LF@string$1 LF@int$1
PUSHS LF@ret1$1
MOVE LF@ret2$1 int@0
PUSHS LF@ret2$1
JUMP $ORD_RET
LABEL $ORD_END
MOVE LF@ret1$1 nil@nil
PUSHS LF@ret1$1
MOVE LF@ret2$1 int@1
PUSHS LF@ret2$1
LABEL $ORD_RET
POPFRAME
RETURN

LABEL $chr
PUSHFRAME
DEFVAR LF@int$1
DEFVAR LF@right_int$1
DEFVAR LF@ret1$1
DEFVAR LF@ret2$1
MOVE LF@int$1 LF@i$0
LT LF@right_int$1 LF@int$1 int@0
JUMPIFEQ $CHR_END LF@right_int$1 bool@true
GT LF@right_int$1 LF@int$1 int@255
JUMPIFEQ $CHR_END LF@right_int$1 bool@true
INT2CHAR LF@ret1$1 LF@int$1
PUSHS LF@ret1$1
MOVE LF@ret2$1 int@0
PUSHS LF@ret2$1
JUMP $CHR_RET
LABEL $CHR_END
MOVE LF@ret1$1 nil@nil
PUSHS LF@ret1$1
MOVE LF@ret2$1 int@1
PUSHS LF@ret2$1
LABEL $CHR_RET
POPFRAME
RETURN

0   sqrt
35   
0   n
51   
17   number
52   
0   eps
51   
17   number
36   
51   
17   number
19   local
LABEL $sqrt
PUSHFRAME
DEFVAR LF@ret1$1
MOVE LF@ret1$1 nil@nil
DEFVAR LF@n$1
MOVE LF@n$1 LF@in1$1
DEFVAR LF@eps$1
MOVE LF@eps$1 LF@in2$1
0   x
51   
17   number
DEFVAR LF@x$1 
MOVE LF@x$1 nil@nil 
29   
0   n
15   if
MOVE LF@x$1 LF@n$1 
0   n
39   
20   nil
EQ GF@EQUAL_RES$1 LF@n$1 nil@nil 
JUMPIFNEQ else1 GF@EQUAL_RES$1 bool@true
23   then
22   return
20   nil
11   else
MOVE LF@ret1$1 nil@nil 
JUMP sqrt_RET
12   end
JUMP ifend1
LABEL else1
LABEL ifend1
15   if
0   n
41   
1   0
23   then
LT GF@LESS_RES$1 LF@n$1 int@0 
JUMPIFNEQ else2 GF@LESS_RES$1 bool@true
22   return
20   nil
11   else
MOVE LF@ret1$1 nil@nil 
JUMP sqrt_RET
12   end
JUMP ifend2
LABEL else2
LABEL ifend2
24   while
1   1
10   do
19   local
0   root
51   
17   number
DEFVAR LF@root$1 
MOVE LF@root$1 nil@nil 
29   
2   0.5
33   
35   
0   x
30   
0   n
32   
INT2FLOAT GF@INTTONUM$1 float@0x1p-1 
LABEL while1
ADD GF@SUM_RES$1 int@1 float@0x0p+0 
0   x
36   
LABEL while1
DIV GF@DIV_RES$1 GF@SUM_RES$1 LF@x$1 
15   if
35   
35   
0   root
31   
0   x
36   
SUB GF@SUB_RES$1 GF@DIV_RES$1 
41   
0   eps
36   
LT GF@LESS_RES$1 GF@SUB_RES$1 LF@eps$1 
JUMPIFNEQ else3 GF@LESS_RES$1 bool@true
23   then
15   if
35   
35   
1   0
31   
0   eps
36   
SUB GF@SUB_RES$1 int@0 
41   
35   
0   root
31   
0   x
36   
SUB GF@SUB_RES$1 GF@SUB_RES$1 LF@root$1 
36   
23   then
22   return
0   x
11   else
JUMP sqrt_RET
12   end
JUMP ifend4
LABEL else4
LABEL ifend4
11   else
12   end
JUMP ifend3
LABEL else3
0   x
JUMP while1
LABEL whileend1
29   
0   root
AAAAAAAAAAAAAAAAAAAAAAAAAAAAA
